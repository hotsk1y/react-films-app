(this["webpackJsonpreact-films-app"]=this["webpackJsonpreact-films-app"]||[]).push([[0],{26:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),n=a(17),r=a.n(n),i=a(8),l=a.n(i),o=a(18),h=a(3),m=a(4),d=a(6),u=a(5),j=(a(26),a(20)),p=a(0);var g=function(e){var t=new Date(e.show.premiered).getFullYear(),a=e.show.summary||"None description";a.includes("<p>")&&((a=a.replace("<p>","")).includes("</p>")&&(a=a.replace("</p>","")),a.includes("<b>")&&(a=a.replace("<b>","")),a.includes("</b>")&&(a=a.replace("</b>","")),a.includes("<strong>")&&(a=a.replace("<strong>","")),a.includes("</strong>")&&(a=a.replace("</strong>","")),a.includes("<i>")&&(a=a.replace("<i>","")),a.includes("</i>")&&(a=a.replace("</i>","")));var c=e.show.genres.map((function(e,t){return Object(p.jsx)("li",{children:e},t)}));return Object(p.jsxs)("div",{className:"film-card",children:[Object(p.jsx)("img",{src:null===e.show.image?"http://via.placeholder.com/170x250?text=failed+to+load+image":e.show.image.medium,alt:""}),Object(p.jsxs)("div",{className:"movie-column",children:[Object(p.jsx)("div",{className:"film-card__title",children:e.show.name}),Object(p.jsx)("div",{className:"film-card__year",children:t}),Object(p.jsx)("ul",{className:"film-card__genre",children:c}),Object(p.jsxs)("div",{className:"film-card__summary",children:[a.slice(0,160),"..."]})]})]})};var b=function(e){var t=e.films,a=void 0===t?[]:t;return Object(p.jsx)("div",{className:"films",children:a.length?a.map((function(e){return Object(p.jsx)(g,Object(j.a)({},e),e.show.id)})):Object(p.jsx)("h1",{children:"Nothing found :("})})},f=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(h.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={search:""},e.handleKey=function(t){"Enter"===t.key&&e.props.searchFilms(e.state.search)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"search-input",children:[Object(p.jsx)("input",{type:"text",placeholder:"Search",value:this.state.search,onChange:function(t){e.setState({search:t.target.value})},onKeyDown:this.handleKey}),Object(p.jsx)("button",{onClick:function(){return e.props.searchFilms(e.state.search)},children:Object(p.jsx)("img",{src:"https://icon-library.com/images/white-search-icon-transparent-background/white-search-icon-transparent-background-5.jpg",alt:""})})]})}}]),a}(s.a.Component);var v=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("footer",{className:"footer",children:["developed by ",Object(p.jsx)("a",{href:"https://www.instagram.com/hotsk1y",target:"blank",children:" hotsk1y"})]})})},O=a(19),x=a.n(O),w=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(h.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={films:localStorage.getItem("searchingFilm"),isLoading:!0},e.getFilms=Object(o.a)(l.a.mark((function t(){var a,c,s=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:localStorage.getItem("searchingFilm"),t.next=3,x.a.get("https://api.tvmaze.com/search/shows?q=".concat(a));case 3:c=t.sent,e.setState({films:c.data,isLoading:!1}),localStorage.setItem("searchingFilm",a);case 6:case"end":return t.stop()}}),t)}))),e.searchFilms=function(t){e.getFilms("".concat(t))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){localStorage.length||localStorage.setItem("searchingFilm","spider-man"),this.getFilms()}},{key:"render",value:function(){var e=this.state,t=e.films,a=e.isLoading;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(f,{searchFilms:this.searchFilms}),a?Object(p.jsx)("h2",{children:"Loading..."}):Object(p.jsx)(b,{films:t,searchFilms:this.searchFilms})]}),Object(p.jsx)(v,{})]})}}]),a}(s.a.Component);r.a.render(Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(w,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7b973db7.chunk.js.map